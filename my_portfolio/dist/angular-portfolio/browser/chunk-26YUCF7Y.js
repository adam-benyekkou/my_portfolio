import{Ga as R,Ya as r,Za as m,fb as f,gb as p,ha as x,hb as c,ib as u,kb as d,xa as l}from"./chunk-P2IXOKJJ.js";var T=["mainText"],C=["shadow1"],b=["shadow2"],E=class v{mainTextRef;shadow1Ref;shadow2Ref;title=x();animationFrame;timeoutIds=[];ngOnInit(){setTimeout(()=>this.startScrambleAnimation(),100)}ngOnDestroy(){this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.timeoutIds.forEach(e=>clearTimeout(e))}startScrambleAnimation(){let e=this.title()||"";if(!e)return;this.simultaneousScrambleAndReveal(e,2e3,80)}simultaneousScrambleAndReveal(e,t,n){let i=Date.now(),h=new Array(e.length).fill(!1),y=new Array(e.length).fill(null).map(()=>Math.random()>.5?"0":"1");for(let a=0;a<e.length;a++)if(e[a]!==" "){let s=setTimeout(()=>{h[a]=!0},a*n);this.timeoutIds.push(s)}else h[a]=!0;let w=()=>{if(Date.now()-i<t){let s="";for(let o=0;o<e.length;o++)e[o]===" "?s+=" ":h[o]?s+=e[o]:(y[o]=Math.random()>.5?"0":"1",s+=y[o]);this.updateTextContent(s),this.animationFrame=requestAnimationFrame(w)}else this.updateTextContent(e)};w()}updateTextContent(e){this.mainTextRef?.nativeElement&&(this.mainTextRef.nativeElement.textContent=e),this.shadow1Ref?.nativeElement&&(this.shadow1Ref.nativeElement.textContent=e),this.shadow2Ref?.nativeElement&&(this.shadow2Ref.nativeElement.textContent=e)}static \u0275fac=function(t){return new(t||v)};static \u0275cmp=R({type:v,selectors:[["app-section-title"]],viewQuery:function(t,n){if(t&1&&(f(T,7),f(C,7),f(b,7)),t&2){let i;p(i=c())&&(n.mainTextRef=i.first),p(i=c())&&(n.shadow1Ref=i.first),p(i=c())&&(n.shadow2Ref=i.first)}},inputs:{title:[1,"title"]},decls:10,vars:3,consts:[["shadow1",""],["shadow2",""],["mainText",""],[1,"relative"],[1,"absolute","text-6xl","font-noto-jp","text-white","opacity-50",2,"transform","translate(3px, 4px)"],[1,"absolute","text-6xl","font-noto-jp","text-black","opacity-15",2,"transform","translate(6px, 8px)"],[1,"relative","text-6xl","font-noto-jp","text-nier-dark","z-10"]],template:function(t,n){t&1&&(r(0,"h2",3)(1,"p",4,0),u(3),m(),r(4,"p",5,1),u(6),m(),r(7,"p",6,2),u(9),m()()),t&2&&(l(3),d(" ",n.title()," "),l(3),d(" ",n.title()," "),l(3),d(" ",n.title()," "))},encapsulation:2})};export{E as a};
